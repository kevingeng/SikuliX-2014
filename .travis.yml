language: java
jdk:
- oraclejdk8
env:
  global:
before_install:
- openssl aes-256-cbc -K $encrypted_622334dd6b80_key -iv $encrypted_622334dd6b80_iv
  -in codesigning/codesigning.asc.enc -out codesigning/codesigning.asc -d
install: mvn install -DskipTests=true -B
before_script:
- gpg --fast-import codesigning/codesigning.asc
script:
- echo ---------- deploy
- ". Setup/target/classes/content/deployOSSRH"
- echo ------- javadocs
- ". Setup/target/classes/content/createJavadocs"
- echo ------- nightly
- ". Setup/target/classes/content/createNightly"
deploy:
  provider: pages
  skip_cleanup: true
  github_token: $GITHUB_TOKEN
  local_dir: pages
  on:
      branch: develop
